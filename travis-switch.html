<polymer-element name="travis-switch"  constructor="TravisSwitchElement" attributes="active onText offText" on-click="onClick">
  <template>
    <style>
      :host {
        position: relative;
        display: inline-block;
        float: left;
        width: 60px;
        height: 18px;
        margin: 0 10px 0 15px;
        padding: 0 10px 0 0;
        border: 1px solid #bdbdbd;
        line-height: 19px;
        font-size: 11px;
        color: #999;
        cursor: pointer;
        text-align: right;
      }

      :host .switch {
        content: "";
        position: absolute;
        top: -1px;
        left: -1px;
        width: 28px;
        height: 18px;
        background: #e9e9e7;
        border: 1px solid #bdbdbd;
      }

      :host(.active) {
        width: 56px;
        padding: 0 0 0 14px;
        background: #40454f;
        border: 1px solid #bdbdbd;
        color: #fff;
        text-align: left;
      }

      :host(.active) .switch {
        left: auto;
        right: -1px;
      }
    </style>
    <span class="switch"></span>
    {{currentState}}
  </template>
  <script>
    Polymer('travis-switch', {
      active: false,
      onText: 'ON',
      offText: 'OFF',
      // element is fully prepared
      ready: function() { },
      // instance of the element is created
      created: function() {
        this.activeChanged();
      },
      activeChanged: function(attrName, oldVal, newVal) {
        this.currentState = this.active ? this.onText : this.offText;
        if(this.active) {
          this.classList.add('active');
        } else {
          this.classList.remove('active');
        }
        this.fire('change');
      },

      onClick: function(event, detail, sender) {
        this.active = !this.active;
      }
    });
  </script>
</polymer-element>
